<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The main framework struct which stores all data and handles message and interaction dispatch."><meta name="keywords" content="rust, rustlang, rust-lang, Framework"><title>Framework in poise::framework - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-06d53869768b7c80.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-b500e95a81de8901.css"><link rel="stylesheet" disabled href="../../static.files/dark-8e2401c021b2439b.css"><link rel="stylesheet" disabled href="../../static.files/ayu-0c8cf6c01af981d0.css"><script id="default-settings" ></script><script src="../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-a211dbb005fb8161.js"></script><script defer src="../../static.files/scrape-examples-ef1e698c1d417c0c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../poise/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../poise/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">Framework</a></h2><div class="sidebar-elems"><section><h3><a href="#implementations">Methods</a></h3><ul class="block"><li><a href="#method.build">build</a></li><li><a href="#method.builder">builder</a></li><li><a href="#method.client">client</a></li><li><a href="#method.new">new</a></li><li><a href="#method.options">options</a></li><li><a href="#method.shard_manager">shard_manager</a></li><li><a href="#method.start">start</a></li><li><a href="#method.start_autosharded">start_autosharded</a></li><li><a href="#method.start_with">start_with</a></li><li><a href="#method.user_data">user_data</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block"><li><a href="#impl-RefUnwindSafe-for-Framework%3CU%2C%20E%3E">!RefUnwindSafe</a></li><li><a href="#impl-Send-for-Framework%3CU%2C%20E%3E">Send</a></li><li><a href="#impl-Sync-for-Framework%3CU%2C%20E%3E">Sync</a></li><li><a href="#impl-Unpin-for-Framework%3CU%2C%20E%3E">Unpin</a></li><li><a href="#impl-UnwindSafe-for-Framework%3CU%2C%20E%3E">!UnwindSafe</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block"><li><a href="#impl-Any-for-Framework%3CU%2C%20E%3E">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-Framework%3CU%2C%20E%3E">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-Framework%3CU%2C%20E%3E">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E-for-Framework%3CU%2C%20E%3E">From&lt;T&gt;</a></li><li><a href="#impl-Instrument-for-Framework%3CU%2C%20E%3E">Instrument</a></li><li><a href="#impl-Into%3CU%3E-for-Framework%3CU%2C%20E%3E">Into&lt;U&gt;</a></li><li><a href="#impl-Same%3CT%3E-for-Framework%3CU%2C%20E%3E">Same&lt;T&gt;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-Framework%3CU%2C%20E%3E">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E-for-Framework%3CU%2C%20E%3E">TryInto&lt;U&gt;</a></li><li><a href="#impl-VZip%3CV%3E-for-Framework%3CU%2C%20E%3E">VZip&lt;V&gt;</a></li><li><a href="#impl-WithSubscriber-for-Framework%3CU%2C%20E%3E">WithSubscriber</a></li></ul></section><h2><a href="index.html">In poise::framework</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Struct <a href="../index.html">poise</a>::<wbr><a href="index.html">framework</a>::<wbr><a class="struct" href="#">Framework</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/poise/framework/mod.rs.html#19-45">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><div class="item-decl"><pre class="rust struct"><code>pub struct Framework&lt;U, E&gt; { /* private fields */ }</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The main framework struct which stores all data and handles message and interaction dispatch.</p>
<p>Technically, this is just an optional abstraction over <a href="../dispatch/fn.dispatch_event.html" title="crate::dispatch_event"><code>crate::dispatch_event</code></a> with some
additional conveniences built-in:</p>
<ul>
<li>fills in correct values for <a href="../structs/struct.Command.html#structfield.qualified_name" title="crate::Command::qualified_name"><code>crate::Command::qualified_name</code></a>: <a href="fn.set_qualified_names.html" title="set_qualified_names"><code>set_qualified_names</code></a></li>
<li>spawns a background task to periodically clear edit tracker cache</li>
<li>sets up user data on the first Ready event</li>
<li>keeps track of shard manager and bot ID automatically</li>
</ul>
<p>You can build a bot without <a href="struct.Framework.html" title="Framework"><code>Framework</code></a>: see the <code>manual_dispatch</code> example in the repository</p>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor">Â§</a></h2><div id="implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a class="srclink rightside" href="../../src/poise/framework/mod.rs.html#47-220">source</a><a href="#impl-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;U, E&gt; <a class="struct" href="struct.Framework.html" title="struct poise::framework::Framework">Framework</a>&lt;U, E&gt;</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.build" class="method has-srclink"><a class="srclink rightside" href="../../src/poise/framework/mod.rs.html#52-54">source</a><h4 class="code-header">pub fn <a href="#method.build" class="fn">build</a>() -&gt; <a class="struct" href="struct.FrameworkBuilder.html" title="struct poise::framework::FrameworkBuilder">FrameworkBuilder</a>&lt;U, E&gt;</h4></section><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: Please use Framework::builder instead</span></div></span></summary><div class="docblock"><p>Create a framework builder to configure, create and run a framework.</p>
<p>For more information, see <a href="struct.FrameworkBuilder.html" title="FrameworkBuilder"><code>FrameworkBuilder</code></a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.builder" class="method has-srclink"><a class="srclink rightside" href="../../src/poise/framework/mod.rs.html#59-61">source</a><h4 class="code-header">pub fn <a href="#method.builder" class="fn">builder</a>() -&gt; <a class="struct" href="struct.FrameworkBuilder.html" title="struct poise::framework::FrameworkBuilder">FrameworkBuilder</a>&lt;U, E&gt;</h4></section></summary><div class="docblock"><p>Create a framework builder to configure, create and run a framework.</p>
<p>For more information, see <a href="struct.FrameworkBuilder.html" title="FrameworkBuilder"><code>FrameworkBuilder</code></a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.new" class="method has-srclink"><a class="srclink rightside" href="../../src/poise/framework/mod.rs.html#71-123">source</a><h4 class="code-header">pub async fn <a href="#method.new" class="fn">new</a>&lt;F&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;client_builder: <a class="struct" href="../../serenity/client/struct.ClientBuilder.html" title="struct serenity::client::ClientBuilder">ClientBuilder</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;setup: F,<br>&nbsp;&nbsp;&nbsp;&nbsp;options: <a class="struct" href="../structs/struct.FrameworkOptions.html" title="struct poise::structs::FrameworkOptions">FrameworkOptions</a>&lt;U, E&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;Self&gt;, <a class="enum" href="../../serenity/error/enum.Error.html" title="enum serenity::error::Error">Error</a>&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static + for&lt;'a&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>(&amp;'a <a class="struct" href="../../serenity/client/context/struct.Context.html" title="struct serenity::client::context::Context">Context</a>, &amp;'a <a class="struct" href="../../serenity/model/gateway/struct.Ready.html" title="struct serenity::model::gateway::Ready">Ready</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a </a>Self) -&gt; <a class="type" href="../type.BoxFuture.html" title="type poise::BoxFuture">BoxFuture</a>&lt;'a, <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, E&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;E: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static,</span></h4></section></summary><div class="docblock"><p>Setup a new <a href="struct.Framework.html" title="Framework"><code>Framework</code></a>. For more ergonomic setup, please see <a href="struct.FrameworkBuilder.html" title="FrameworkBuilder"><code>FrameworkBuilder</code></a></p>
<p>This function is async and returns Result because it already initializes the Discord client.</p>
<p>The user data callback is invoked as soon as the bot is logged in. That way, bot data like
user ID or connected guilds can be made available to the user data setup function. The user
data setup is not allowed to return Result because there would be no reasonable
course of action on error.</p>
</div><div class="docblock scraped-example-list"><span></span><h5 id="scraped-examples"><a href="#scraped-examples">Examples found in repository</a><a class="scrape-help" href="../../scrape-examples-help.html">?</a></h5><div class="scraped-example " data-locs="[[[38,38],&quot;../../src/poise/framework/builder.rs.html#225&quot;,&quot;line 225&quot;]]"><div class="scraped-example-title">src/framework/builder.rs (<a href="../../src/poise/framework/builder.rs.html#225">line 225</a>)</div><div class="code-wrapper"><div class="example-wrap"><pre class="src-line-numbers"><span>187</span>
<span>188</span>
<span>189</span>
<span>190</span>
<span>191</span>
<span>192</span>
<span>193</span>
<span>194</span>
<span>195</span>
<span>196</span>
<span>197</span>
<span>198</span>
<span>199</span>
<span>200</span>
<span>201</span>
<span>202</span>
<span>203</span>
<span>204</span>
<span>205</span>
<span>206</span>
<span>207</span>
<span>208</span>
<span>209</span>
<span>210</span>
<span>211</span>
<span>212</span>
<span>213</span>
<span>214</span>
<span>215</span>
<span>216</span>
<span>217</span>
<span>218</span>
<span>219</span>
<span>220</span>
<span>221</span>
<span>222</span>
<span>223</span>
<span>224</span>
<span>225</span>
<span>226</span>
</pre><pre class="rust"><code><button class="expand">&varr;</button>    <span class="kw">pub async fn </span>build(<span class="self">self</span>) -&gt; <span class="prelude-ty">Result</span>&lt;std::sync::Arc&lt;<span class="kw">crate</span>::Framework&lt;U, E&gt;&gt;, serenity::Error&gt;
    <span class="kw">where
        </span>U: Send + Sync + <span class="lifetime">&#39;static</span>,
        E: Send + <span class="lifetime">&#39;static</span>,
    {
        <span class="comment">// Aggregate required values or panic if not provided
        // WHEN CHANGING THESE, UPDATE FrameworkBuilder docs!
        </span><span class="kw">let </span>token = <span class="self">self</span>.token.expect(<span class="string">&quot;No token was provided to the framework&quot;</span>);
        <span class="kw">let </span>intents = <span class="self">self</span>.intents.expect(
            <span class="string">&quot;

No gateway intents were provided to the framework via `FrameworkBuilder::intents()`. If you&#39;re \
unsure, use
`serenity::GatewayIntents::non_privileged() | serenity::GatewayIntents::MESSAGE_CONTENT`
and enable MESSAGE_CONTENT in your Discord bot dashboard

&quot;</span>,
        );
        <span class="kw">let </span>setup = <span class="self">self
            </span>.setup
            .expect(<span class="string">&quot;No user data setup function was provided to the framework&quot;</span>);
        <span class="kw">let </span><span class="kw-2">mut </span>options = <span class="self">self</span>.options.expect(<span class="string">&quot;No framework options provided&quot;</span>);

        <span class="comment">// Build framework options by concatenating user-set options with commands and owners
        </span>options.commands.extend(<span class="self">self</span>.commands);
        <span class="kw">if </span><span class="self">self</span>.initialize_owners {
            <span class="kw">if let </span><span class="prelude-val">Err</span>(e) = <span class="kw">super</span>::insert_owners_from_http(<span class="kw-2">&amp;</span>token, <span class="kw-2">&amp;mut </span>options.owners).<span class="kw">await </span>{
                <span class="macro">log::warn!</span>(<span class="string">&quot;Failed to insert owners from HTTP: {}&quot;</span>, e);
            }
        }

        <span class="comment">// Create serenity client
        </span><span class="kw">let </span><span class="kw-2">mut </span>client_builder = serenity::ClientBuilder::new(token, intents);
        <span class="kw">if let </span><span class="prelude-val">Some</span>(client_settings) = <span class="self">self</span>.client_settings {
            client_builder = client_settings(client_builder);
        }

        <span class="comment">// Create framework with specified settings
        </span><span class="highlight focus"><span class="kw">crate</span>::Framework::new</span>(client_builder, setup, options).<span class="kw">await
    </span>}</code></pre></div>
</div></div></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.start_with" class="method has-srclink"><a class="srclink rightside" href="../../src/poise/framework/mod.rs.html#145-165">source</a><h4 class="code-header">pub async fn <a href="#method.start_with" class="fn">start_with</a>&lt;F:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="../../serenity/error/type.Result.html" title="type serenity::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;self: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;Self&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;start: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>(<a class="struct" href="../../serenity/client/struct.Client.html" title="struct serenity::client::Client">Client</a>) -&gt; F<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="enum" href="../../serenity/error/enum.Error.html" title="enum serenity::error::Error">Error</a>&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;E: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static,</span></h4></section></summary><div class="docblock"><p>Small utility function for starting the framework that is agnostic over client sharding</p>
<p>You can use these shortcut methods to start the framework with a single shard
or with automatic sharding: <a href="struct.Framework.html#method.start" title="Framework::start"><code>Framework::start</code></a>, <a href="struct.Framework.html#method.start_autosharded" title="Framework::start_autosharded"><code>Framework::start_autosharded</code></a></p>
<h5 id="examples"><a href="#examples">Examples</a></h5>
<p>Start shards in a range</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>shard_range = [<span class="number">3</span>, <span class="number">7</span>];
<span class="kw">let </span>total_shards = <span class="number">8</span>;

framework
    .start_with(|<span class="kw-2">mut </span>client| <span class="kw">async move </span>{
        client.start_shard_range(shard_range, total_shards).<span class="kw">await
   </span>})
   .<span class="kw">await</span><span class="question-mark">?</span>;</code></pre></div>
</div><div class="docblock scraped-example-list"><span></span><h5 id="scraped-examples-1"><a href="#scraped-examples-1">Examples found in repository</a><a class="scrape-help" href="../../scrape-examples-help.html">?</a></h5><div class="scraped-example " data-locs="[[[5,5],&quot;../../src/poise/framework/mod.rs.html#175&quot;,&quot;line 175&quot;],[[18,18],&quot;../../src/poise/framework/mod.rs.html#188&quot;,&quot;line 188&quot;]]"><div class="scraped-example-title">src/framework/mod.rs (<a href="../../src/poise/framework/mod.rs.html#175">line 175</a>)</div><div class="code-wrapper"><button class="prev">&pr;</button> <button class="next">&sc;</button><div class="example-wrap"><pre class="src-line-numbers"><span>170</span>
<span>171</span>
<span>172</span>
<span>173</span>
<span>174</span>
<span>175</span>
<span>176</span>
<span>177</span>
<span>178</span>
<span>179</span>
<span>180</span>
<span>181</span>
<span>182</span>
<span>183</span>
<span>184</span>
<span>185</span>
<span>186</span>
<span>187</span>
<span>188</span>
<span>189</span>
<span>190</span>
</pre><pre class="rust"><code><button class="expand">&varr;</button>    <span class="kw">pub async fn </span>start(<span class="self">self</span>: std::sync::Arc&lt;<span class="self">Self</span>&gt;) -&gt; <span class="prelude-ty">Result</span>&lt;(), serenity::Error&gt;
    <span class="kw">where
        </span>U: Send + Sync + <span class="lifetime">&#39;static</span>,
        E: Send + <span class="lifetime">&#39;static</span>,
    {
        <span class="self">self</span>.<span class="highlight focus">start_with</span>(|<span class="kw-2">mut </span>c| <span class="kw">async move </span>{ c.start().<span class="kw">await </span>})
            .<span class="kw">await
    </span>}

    <span class="doccomment">/// Starts the framework with automatic sharding.
    /// Calls [`serenity::Client::start_autosharded`] internally.
    ///
    /// See [`Framework::start_with`] for other sharding configurations.
    </span><span class="kw">pub async fn </span>start_autosharded(<span class="self">self</span>: std::sync::Arc&lt;<span class="self">Self</span>&gt;) -&gt; <span class="prelude-ty">Result</span>&lt;(), serenity::Error&gt;
    <span class="kw">where
        </span>U: Send + Sync + <span class="lifetime">&#39;static</span>,
        E: Send + <span class="lifetime">&#39;static</span>,
    {
        <span class="self">self</span>.<span class="highlight">start_with</span>(|<span class="kw-2">mut </span>c| <span class="kw">async move </span>{ c.start_autosharded().<span class="kw">await </span>})
            .<span class="kw">await
    </span>}</code></pre></div>
</div></div></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.start" class="method has-srclink"><a class="srclink rightside" href="../../src/poise/framework/mod.rs.html#170-177">source</a><h4 class="code-header">pub async fn <a href="#method.start" class="fn">start</a>(self: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;Self&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="enum" href="../../serenity/error/enum.Error.html" title="enum serenity::error::Error">Error</a>&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;E: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static,</span></h4></section></summary><div class="docblock"><p>Starts the framework with a shard. Calls <a href="../../serenity/client/struct.Client.html#method.start" title="serenity::Client::start"><code>serenity::Client::start</code></a> internally.</p>
<p>See <a href="struct.Framework.html#method.start_with" title="Framework::start_with"><code>Framework::start_with</code></a> for other sharding configurations.</p>
</div><div class="docblock scraped-example-list"><span></span><h5 id="scraped-examples-2"><a href="#scraped-examples-2">Examples found in repository</a><a class="scrape-help" href="../../scrape-examples-help.html">?</a></h5><div class="scraped-example expanded" data-locs="[[[5,5],&quot;../../src/poise/framework/builder.rs.html#237&quot;,&quot;line 237&quot;]]"><div class="scraped-example-title">src/framework/builder.rs (<a href="../../src/poise/framework/builder.rs.html#237">line 237</a>)</div><div class="code-wrapper"><div class="example-wrap"><pre class="src-line-numbers"><span>232</span>
<span>233</span>
<span>234</span>
<span>235</span>
<span>236</span>
<span>237</span>
<span>238</span>
</pre><pre class="rust"><code>    <span class="kw">pub async fn </span>run(<span class="self">self</span>) -&gt; <span class="prelude-ty">Result</span>&lt;(), serenity::Error&gt;
    <span class="kw">where
        </span>U: Send + Sync + <span class="lifetime">&#39;static</span>,
        E: Send + <span class="lifetime">&#39;static</span>,
    {
        <span class="self">self</span>.build().<span class="kw">await</span><span class="question-mark">?</span>.<span class="highlight focus">start</span>().<span class="kw">await
    </span>}</code></pre></div>
</div></div></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.start_autosharded" class="method has-srclink"><a class="srclink rightside" href="../../src/poise/framework/mod.rs.html#183-190">source</a><h4 class="code-header">pub async fn <a href="#method.start_autosharded" class="fn">start_autosharded</a>(self: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;Self&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="enum" href="../../serenity/error/enum.Error.html" title="enum serenity::error::Error">Error</a>&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;E: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static,</span></h4></section></summary><div class="docblock"><p>Starts the framework with automatic sharding.
Calls <a href="../../serenity/client/struct.Client.html#method.start_autosharded" title="serenity::Client::start_autosharded"><code>serenity::Client::start_autosharded</code></a> internally.</p>
<p>See <a href="struct.Framework.html#method.start_with" title="Framework::start_with"><code>Framework::start_with</code></a> for other sharding configurations.</p>
</div><div class="docblock scraped-example-list"><span></span><h5 id="scraped-examples-3"><a href="#scraped-examples-3">Examples found in repository</a><a class="scrape-help" href="../../scrape-examples-help.html">?</a></h5><div class="scraped-example expanded" data-locs="[[[5,5],&quot;../../src/poise/framework/builder.rs.html#246&quot;,&quot;line 246&quot;]]"><div class="scraped-example-title">src/framework/builder.rs (<a href="../../src/poise/framework/builder.rs.html#246">line 246</a>)</div><div class="code-wrapper"><div class="example-wrap"><pre class="src-line-numbers"><span>241</span>
<span>242</span>
<span>243</span>
<span>244</span>
<span>245</span>
<span>246</span>
<span>247</span>
</pre><pre class="rust"><code>    <span class="kw">pub async fn </span>run_autosharded(<span class="self">self</span>) -&gt; <span class="prelude-ty">Result</span>&lt;(), serenity::Error&gt;
    <span class="kw">where
        </span>U: Send + Sync + <span class="lifetime">&#39;static</span>,
        E: Send + <span class="lifetime">&#39;static</span>,
    {
        <span class="self">self</span>.build().<span class="kw">await</span><span class="question-mark">?</span>.<span class="highlight focus">start_autosharded</span>().<span class="kw">await
    </span>}</code></pre></div>
</div></div></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.options" class="method has-srclink"><a class="srclink rightside" href="../../src/poise/framework/mod.rs.html#193-195">source</a><h4 class="code-header">pub fn <a href="#method.options" class="fn">options</a>(&amp;self) -&gt; &amp;<a class="struct" href="../structs/struct.FrameworkOptions.html" title="struct poise::structs::FrameworkOptions">FrameworkOptions</a>&lt;U, E&gt;</h4></section></summary><div class="docblock"><p>Return the stored framework options, including commands.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.shard_manager" class="method has-srclink"><a class="srclink rightside" href="../../src/poise/framework/mod.rs.html#199-201">source</a><h4 class="code-header">pub fn <a href="#method.shard_manager" class="fn">shard_manager</a>(&amp;self) -&gt; &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="../../tokio/sync/mutex/struct.Mutex.html" title="struct tokio::sync::mutex::Mutex">Mutex</a>&lt;<a class="struct" href="../../serenity/client/bridge/gateway/shard_manager/struct.ShardManager.html" title="struct serenity::client::bridge::gateway::shard_manager::ShardManager">ShardManager</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Returns the serenityâ€™s client shard manager.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.client" class="method has-srclink"><a class="srclink rightside" href="../../src/poise/framework/mod.rs.html#204-208">source</a><h4 class="code-header">pub fn <a href="#method.client" class="fn">client</a>(&amp;self) -&gt; impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.DerefMut.html" title="trait core::ops::deref::DerefMut">DerefMut</a>&lt;Target = <a class="struct" href="../../serenity/client/struct.Client.html" title="struct serenity::client::Client">Client</a>&gt; + '_</h4></section></summary><div class="docblock"><p>Returns the serenity client. Panics if the framework has already started!</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.user_data" class="method has-srclink"><a class="srclink rightside" href="../../src/poise/framework/mod.rs.html#212-219">source</a><h4 class="code-header">pub async fn <a href="#method.user_data" class="fn">user_data</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>U</h4></section></summary><div class="docblock"><p>Retrieves user data, or blocks until it has been initialized (once the Ready event has been
received).</p>
</div><div class="docblock scraped-example-list"><span></span><h5 id="scraped-examples-4"><a href="#scraped-examples-4">Examples found in repository</a><a class="scrape-help" href="../../scrape-examples-help.html">?</a></h5><div class="scraped-example " data-locs="[[[31,31],&quot;../../src/poise/framework/mod.rs.html#255&quot;,&quot;line 255&quot;]]"><div class="scraped-example-title">src/framework/mod.rs (<a href="../../src/poise/framework/mod.rs.html#255">line 255</a>)</div><div class="code-wrapper"><div class="example-wrap"><pre class="src-line-numbers"><span>224</span>
<span>225</span>
<span>226</span>
<span>227</span>
<span>228</span>
<span>229</span>
<span>230</span>
<span>231</span>
<span>232</span>
<span>233</span>
<span>234</span>
<span>235</span>
<span>236</span>
<span>237</span>
<span>238</span>
<span>239</span>
<span>240</span>
<span>241</span>
<span>242</span>
<span>243</span>
<span>244</span>
<span>245</span>
<span>246</span>
<span>247</span>
<span>248</span>
<span>249</span>
<span>250</span>
<span>251</span>
<span>252</span>
<span>253</span>
<span>254</span>
<span>255</span>
<span>256</span>
<span>257</span>
<span>258</span>
<span>259</span>
<span>260</span>
<span>261</span>
<span>262</span>
<span>263</span>
<span>264</span>
<span>265</span>
<span>266</span>
<span>267</span>
</pre><pre class="rust"><code><button class="expand">&varr;</button><span class="kw">async fn </span>raw_dispatch_event&lt;U, E&gt;(
    framework: <span class="kw-2">&amp;</span><span class="kw">crate</span>::Framework&lt;U, E&gt;,
    ctx: <span class="kw-2">&amp;</span>serenity::Context,
    event: <span class="kw-2">&amp;</span><span class="kw">crate</span>::Event&lt;<span class="lifetime">&#39;_</span>&gt;,
) <span class="kw">where
    </span>U: Send + Sync,
{
    <span class="kw">if let </span><span class="kw">crate</span>::Event::Ready { data_about_bot } = event {
        <span class="kw">let _</span>: <span class="prelude-ty">Result</span>&lt;<span class="kw">_</span>, <span class="kw">_</span>&gt; = framework.bot_id.set(data_about_bot.user.id);
        <span class="kw">let </span>setup = Option::take(<span class="kw-2">&amp;mut *</span>framework.setup.lock().unwrap());
        <span class="kw">if let </span><span class="prelude-val">Some</span>(setup) = setup {
            <span class="kw">match </span>setup(ctx, data_about_bot, framework).<span class="kw">await </span>{
                <span class="prelude-val">Ok</span>(user_data) =&gt; {
                    <span class="kw">let _</span>: <span class="prelude-ty">Result</span>&lt;<span class="kw">_</span>, <span class="kw">_</span>&gt; = framework.user_data.set(user_data);
                }
                <span class="prelude-val">Err</span>(error) =&gt; {
                    (framework.options.on_error)(<span class="kw">crate</span>::FrameworkError::Setup {
                        error,
                        framework,
                        data_about_bot,
                        ctx,
                    })
                    .<span class="kw">await
                </span>}
            }
        } <span class="kw">else </span>{
            <span class="comment">// ignoring duplicate Discord bot ready event
            // (happens regularly when bot is online for long period of time)
        </span>}
    }

    <span class="kw">let </span>user_data = framework.<span class="highlight focus">user_data</span>().<span class="kw">await</span>;
    <span class="kw">let </span>bot_id = <span class="kw-2">*</span>framework
        .bot_id
        .get()
        .expect(<span class="string">&quot;bot ID not set even though we awaited Ready&quot;</span>);
    <span class="kw">let </span>framework = <span class="kw">crate</span>::FrameworkContext {
        bot_id,
        options: <span class="kw-2">&amp;</span>framework.options,
        user_data,
        shard_manager: <span class="kw-2">&amp;</span>framework.shard_manager,
    };
    <span class="kw">crate</span>::dispatch_event(framework, ctx, event).<span class="kw">await</span>;
}</code></pre></div>
</div></div></div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">Â§</a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe-for-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a href="#impl-RefUnwindSafe-for-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;U, E&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.Framework.html" title="struct poise::framework::Framework">Framework</a>&lt;U, E&gt;</h3></section><section id="impl-Send-for-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a href="#impl-Send-for-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;U, E&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.Framework.html" title="struct poise::framework::Framework">Framework</a>&lt;U, E&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,</span></h3></section><section id="impl-Sync-for-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a href="#impl-Sync-for-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;U, E&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.Framework.html" title="struct poise::framework::Framework">Framework</a>&lt;U, E&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,</span></h3></section><section id="impl-Unpin-for-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a href="#impl-Unpin-for-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;U, E&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.Framework.html" title="struct poise::framework::Framework">Framework</a>&lt;U, E&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,</span></h3></section><section id="impl-UnwindSafe-for-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a href="#impl-UnwindSafe-for-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;U, E&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.Framework.html" title="struct poise::framework::Framework">Framework</a>&lt;U, E&gt;</h3></section></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">Â§</a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Any-for-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#200">source</a><a href="#impl-Any-for-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#201">source</a><a href="#method.type_id" class="anchor">Â§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#211">source</a><a href="#impl-Borrow%3CT%3E-for-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> Â· <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#213">source</a></span><a href="#method.borrow" class="anchor">Â§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>T</h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#220">source</a><a href="#impl-BorrowMut%3CT%3E-for-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> Â· <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#221">source</a></span><a href="#method.borrow_mut" class="anchor">Â§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T</h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#733">source</a><a href="#impl-From%3CT%3E-for-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> Â· <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#736">source</a></span><a href="#method.from" class="anchor">Â§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Instrument-for-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a class="srclink rightside" href="../../src/tracing/instrument.rs.html#276">source</a><a href="#impl-Instrument-for-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="../../tracing/instrument/trait.Instrument.html" title="trait tracing::instrument::Instrument">Instrument</a> for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.instrument" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/tracing/instrument.rs.html#82">source</a><a href="#method.instrument" class="anchor">Â§</a><h4 class="code-header">fn <a href="../../tracing/instrument/trait.Instrument.html#method.instrument" class="fn">instrument</a>(self, span: <a class="struct" href="../../tracing/span/struct.Span.html" title="struct tracing::span::Span">Span</a>) -&gt; <a class="struct" href="../../tracing/instrument/struct.Instrumented.html" title="struct tracing::instrument::Instrumented">Instrumented</a>&lt;Self&gt;</h4></section></summary><div class='docblock'>Instruments this type with the provided <a href="../../tracing/span/struct.Span.html" title="Span"><code>Span</code></a>, returning an
<code>Instrumented</code> wrapper. <a href="../../tracing/instrument/trait.Instrument.html#method.instrument">Read more</a></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.in_current_span" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/tracing/instrument.rs.html#121">source</a><a href="#method.in_current_span" class="anchor">Â§</a><h4 class="code-header">fn <a href="../../tracing/instrument/trait.Instrument.html#method.in_current_span" class="fn">in_current_span</a>(self) -&gt; <a class="struct" href="../../tracing/instrument/struct.Instrumented.html" title="struct tracing::instrument::Instrumented">Instrumented</a>&lt;Self&gt;</h4></section></summary><div class='docblock'>Instruments this type with the <a href="../../tracing/span/struct.Span.html#method.current">current</a> <a href="../../tracing/span/struct.Span.html"><code>Span</code></a>, returning an
<code>Instrumented</code> wrapper. <a href="../../tracing/instrument/trait.Instrument.html#method.in_current_span">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#717">source</a><a href="#impl-Into%3CU%3E-for-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> Â· <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#725">source</a></span><a href="#method.into" class="anchor">Â§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Same%3CT%3E-for-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a class="srclink rightside" href="../../src/typenum/type_operators.rs.html#34">source</a><a href="#impl-Same%3CT%3E-for-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="../../typenum/type_operators/trait.Same.html" title="trait typenum::type_operators::Same">Same</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Output" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Output" class="anchor">Â§</a><h4 class="code-header">type <a href="../../typenum/type_operators/trait.Same.html#associatedtype.Output" class="associatedtype">Output</a> = T</h4></section></summary><div class='docblock'>Should always be <code>Self</code></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#775">source</a><a href="#impl-TryFrom%3CU%3E-for-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor">Â§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> Â· <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#781">source</a></span><a href="#method.try_from" class="anchor">Â§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#760">source</a><a href="#impl-TryInto%3CU%3E-for-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor">Â§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> Â· <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#766">source</a></span><a href="#method.try_into" class="anchor">Â§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-VZip%3CV%3E-for-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a class="srclink rightside" href="../../src/ppv_lite86/types.rs.html#221">source</a><a href="#impl-VZip%3CV%3E-for-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;V, T&gt; <a class="trait" href="../../ppv_lite86/types/trait.VZip.html" title="trait ppv_lite86::types::VZip">VZip</a>&lt;V&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;V: <a class="trait" href="../../ppv_lite86/types/trait.MultiLane.html" title="trait ppv_lite86::types::MultiLane">MultiLane</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><section id="method.vzip" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/ppv_lite86/types.rs.html#226">source</a><a href="#method.vzip" class="anchor">Â§</a><h4 class="code-header">fn <a href="../../ppv_lite86/types/trait.VZip.html#tymethod.vzip" class="fn">vzip</a>(self) -&gt; V</h4></section></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-WithSubscriber-for-Framework%3CU%2C%20E%3E" class="impl has-srclink"><a class="srclink rightside" href="../../src/tracing/instrument.rs.html#334">source</a><a href="#impl-WithSubscriber-for-Framework%3CU%2C%20E%3E" class="anchor">Â§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="../../tracing/instrument/trait.WithSubscriber.html" title="trait tracing::instrument::WithSubscriber">WithSubscriber</a> for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.with_subscriber" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/tracing/instrument.rs.html#169-171">source</a><a href="#method.with_subscriber" class="anchor">Â§</a><h4 class="code-header">fn <a href="../../tracing/instrument/trait.WithSubscriber.html#method.with_subscriber" class="fn">with_subscriber</a>&lt;S&gt;(self, subscriber: S) -&gt; <a class="struct" href="../../tracing/instrument/struct.WithDispatch.html" title="struct tracing::instrument::WithDispatch">WithDispatch</a>&lt;Self&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../../tracing_core/dispatcher/struct.Dispatch.html" title="struct tracing_core::dispatcher::Dispatch">Dispatch</a>&gt;,</span></h4></section></summary><div class='docblock'>Attaches the provided <a href="../../tracing_core/subscriber/trait.Subscriber.html"><code>Subscriber</code></a> to this type, returning a
<a href="../../tracing/instrument/struct.WithDispatch.html" title="WithDispatch"><code>WithDispatch</code></a> wrapper. <a href="../../tracing/instrument/trait.WithSubscriber.html#method.with_subscriber">Read more</a></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.with_current_subscriber" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/tracing/instrument.rs.html#221">source</a><a href="#method.with_current_subscriber" class="anchor">Â§</a><h4 class="code-header">fn <a href="../../tracing/instrument/trait.WithSubscriber.html#method.with_current_subscriber" class="fn">with_current_subscriber</a>(self) -&gt; <a class="struct" href="../../tracing/instrument/struct.WithDispatch.html" title="struct tracing::instrument::WithDispatch">WithDispatch</a>&lt;Self&gt;</h4></section></summary><div class='docblock'>Attaches the current <a href="../../tracing/dispatcher/index.html#setting-the-default-subscriber">default</a> <a href="../../tracing_core/subscriber/trait.Subscriber.html"><code>Subscriber</code></a> to this type, returning a
<a href="../../tracing/instrument/struct.WithDispatch.html" title="WithDispatch"><code>WithDispatch</code></a> wrapper. <a href="../../tracing/instrument/trait.WithSubscriber.html#method.with_current_subscriber">Read more</a></div></details></div></details></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="poise" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0-nightly (ec56537c4 2022-12-15)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>